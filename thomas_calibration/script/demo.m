% Auto-generated by stereoCalibrator app on 19-Jul-2018
%-------------------------------------------------------


% Define images to process
imageFileNames1 = {'/Users/tangli/Desktop/201807191600/left/left_00.png',...
  '/Users/tangli/Desktop/201807191600/left/left_01.png',...
  '/Users/tangli/Desktop/201807191600/left/left_02.png',...
  '/Users/tangli/Desktop/201807191600/left/left_03.png',...
  '/Users/tangli/Desktop/201807191600/left/left_04.png',...
  '/Users/tangli/Desktop/201807191600/left/left_05.png',...
  '/Users/tangli/Desktop/201807191600/left/left_06.png',...
  '/Users/tangli/Desktop/201807191600/left/left_07.png',...
  '/Users/tangli/Desktop/201807191600/left/left_08.png',...
  '/Users/tangli/Desktop/201807191600/left/left_09.png',...
  '/Users/tangli/Desktop/201807191600/left/left_10.png',...
  '/Users/tangli/Desktop/201807191600/left/left_100.png',...
  '/Users/tangli/Desktop/201807191600/left/left_101.png',...
  '/Users/tangli/Desktop/201807191600/left/left_102.png',...
  '/Users/tangli/Desktop/201807191600/left/left_103.png',...
  '/Users/tangli/Desktop/201807191600/left/left_104.png',...
  '/Users/tangli/Desktop/201807191600/left/left_106.png',...
  '/Users/tangli/Desktop/201807191600/left/left_107.png',...
  '/Users/tangli/Desktop/201807191600/left/left_108.png',...
  '/Users/tangli/Desktop/201807191600/left/left_109.png',...
  '/Users/tangli/Desktop/201807191600/left/left_11.png',...
  '/Users/tangli/Desktop/201807191600/left/left_110.png',...
  '/Users/tangli/Desktop/201807191600/left/left_111.png',...
  '/Users/tangli/Desktop/201807191600/left/left_112.png',...
  '/Users/tangli/Desktop/201807191600/left/left_113.png',...
  '/Users/tangli/Desktop/201807191600/left/left_114.png',...
  '/Users/tangli/Desktop/201807191600/left/left_115.png',...
  '/Users/tangli/Desktop/201807191600/left/left_117.png',...
  '/Users/tangli/Desktop/201807191600/left/left_119.png',...
  '/Users/tangli/Desktop/201807191600/left/left_12.png',...
  '/Users/tangli/Desktop/201807191600/left/left_120.png',...
  '/Users/tangli/Desktop/201807191600/left/left_121.png',...
  '/Users/tangli/Desktop/201807191600/left/left_122.png',...
  '/Users/tangli/Desktop/201807191600/left/left_123.png',...
  '/Users/tangli/Desktop/201807191600/left/left_124.png',...
  '/Users/tangli/Desktop/201807191600/left/left_125.png',...
  '/Users/tangli/Desktop/201807191600/left/left_126.png',...
  '/Users/tangli/Desktop/201807191600/left/left_127.png',...
  '/Users/tangli/Desktop/201807191600/left/left_128.png',...
  '/Users/tangli/Desktop/201807191600/left/left_129.png',...
  '/Users/tangli/Desktop/201807191600/left/left_13.png',...
  '/Users/tangli/Desktop/201807191600/left/left_130.png',...
  '/Users/tangli/Desktop/201807191600/left/left_131.png',...
  '/Users/tangli/Desktop/201807191600/left/left_132.png',...
  '/Users/tangli/Desktop/201807191600/left/left_133.png',...
  '/Users/tangli/Desktop/201807191600/left/left_134.png',...
  '/Users/tangli/Desktop/201807191600/left/left_135.png',...
  '/Users/tangli/Desktop/201807191600/left/left_136.png',...
  '/Users/tangli/Desktop/201807191600/left/left_138.png',...
  '/Users/tangli/Desktop/201807191600/left/left_139.png',...
  '/Users/tangli/Desktop/201807191600/left/left_14.png',...
  '/Users/tangli/Desktop/201807191600/left/left_140.png',...
  '/Users/tangli/Desktop/201807191600/left/left_15.png',...
  '/Users/tangli/Desktop/201807191600/left/left_16.png',...
  '/Users/tangli/Desktop/201807191600/left/left_17.png',...
  '/Users/tangli/Desktop/201807191600/left/left_18.png',...
  '/Users/tangli/Desktop/201807191600/left/left_19.png',...
  '/Users/tangli/Desktop/201807191600/left/left_20.png',...
  '/Users/tangli/Desktop/201807191600/left/left_21.png',...
  '/Users/tangli/Desktop/201807191600/left/left_22.png',...
  '/Users/tangli/Desktop/201807191600/left/left_23.png',...
  '/Users/tangli/Desktop/201807191600/left/left_24.png',...
  '/Users/tangli/Desktop/201807191600/left/left_25.png',...
  '/Users/tangli/Desktop/201807191600/left/left_26.png',...
  '/Users/tangli/Desktop/201807191600/left/left_27.png',...
  '/Users/tangli/Desktop/201807191600/left/left_28.png',...
  '/Users/tangli/Desktop/201807191600/left/left_29.png',...
  '/Users/tangli/Desktop/201807191600/left/left_30.png',...
  '/Users/tangli/Desktop/201807191600/left/left_31.png',...
  '/Users/tangli/Desktop/201807191600/left/left_32.png',...
  '/Users/tangli/Desktop/201807191600/left/left_33.png',...
  '/Users/tangli/Desktop/201807191600/left/left_34.png',...
  '/Users/tangli/Desktop/201807191600/left/left_35.png',...
  '/Users/tangli/Desktop/201807191600/left/left_36.png',...
  '/Users/tangli/Desktop/201807191600/left/left_37.png',...
  '/Users/tangli/Desktop/201807191600/left/left_38.png',...
  '/Users/tangli/Desktop/201807191600/left/left_39.png',...
  '/Users/tangli/Desktop/201807191600/left/left_40.png',...
  '/Users/tangli/Desktop/201807191600/left/left_41.png',...
  '/Users/tangli/Desktop/201807191600/left/left_42.png',...
  '/Users/tangli/Desktop/201807191600/left/left_43.png',...
  '/Users/tangli/Desktop/201807191600/left/left_44.png',...
  '/Users/tangli/Desktop/201807191600/left/left_45.png',...
  '/Users/tangli/Desktop/201807191600/left/left_46.png',...
  '/Users/tangli/Desktop/201807191600/left/left_47.png',...
  '/Users/tangli/Desktop/201807191600/left/left_48.png',...
  '/Users/tangli/Desktop/201807191600/left/left_49.png',...
  '/Users/tangli/Desktop/201807191600/left/left_50.png',...
  '/Users/tangli/Desktop/201807191600/left/left_51.png',...
  '/Users/tangli/Desktop/201807191600/left/left_52.png',...
  '/Users/tangli/Desktop/201807191600/left/left_53.png',...
  '/Users/tangli/Desktop/201807191600/left/left_54.png',...
  '/Users/tangli/Desktop/201807191600/left/left_55.png',...
  '/Users/tangli/Desktop/201807191600/left/left_56.png',...
  '/Users/tangli/Desktop/201807191600/left/left_57.png',...
  '/Users/tangli/Desktop/201807191600/left/left_58.png',...
  '/Users/tangli/Desktop/201807191600/left/left_59.png',...
  '/Users/tangli/Desktop/201807191600/left/left_60.png',...
  '/Users/tangli/Desktop/201807191600/left/left_62.png',...
  '/Users/tangli/Desktop/201807191600/left/left_63.png',...
  '/Users/tangli/Desktop/201807191600/left/left_64.png',...
  '/Users/tangli/Desktop/201807191600/left/left_65.png',...
  '/Users/tangli/Desktop/201807191600/left/left_66.png',...
  '/Users/tangli/Desktop/201807191600/left/left_67.png',...
  '/Users/tangli/Desktop/201807191600/left/left_68.png',...
  '/Users/tangli/Desktop/201807191600/left/left_69.png',...
  '/Users/tangli/Desktop/201807191600/left/left_70.png',...
  '/Users/tangli/Desktop/201807191600/left/left_71.png',...
  '/Users/tangli/Desktop/201807191600/left/left_73.png',...
  '/Users/tangli/Desktop/201807191600/left/left_74.png',...
  '/Users/tangli/Desktop/201807191600/left/left_75.png',...
  '/Users/tangli/Desktop/201807191600/left/left_76.png',...
  '/Users/tangli/Desktop/201807191600/left/left_78.png',...
  '/Users/tangli/Desktop/201807191600/left/left_79.png',...
  '/Users/tangli/Desktop/201807191600/left/left_80.png',...
  '/Users/tangli/Desktop/201807191600/left/left_81.png',...
  '/Users/tangli/Desktop/201807191600/left/left_82.png',...
  '/Users/tangli/Desktop/201807191600/left/left_83.png',...
  '/Users/tangli/Desktop/201807191600/left/left_85.png',...
  '/Users/tangli/Desktop/201807191600/left/left_86.png',...
  '/Users/tangli/Desktop/201807191600/left/left_87.png',...
  '/Users/tangli/Desktop/201807191600/left/left_88.png',...
  '/Users/tangli/Desktop/201807191600/left/left_89.png',...
  '/Users/tangli/Desktop/201807191600/left/left_90.png',...
  '/Users/tangli/Desktop/201807191600/left/left_91.png',...
  '/Users/tangli/Desktop/201807191600/left/left_92.png',...
  '/Users/tangli/Desktop/201807191600/left/left_93.png',...
  '/Users/tangli/Desktop/201807191600/left/left_94.png',...
  '/Users/tangli/Desktop/201807191600/left/left_95.png',...
  '/Users/tangli/Desktop/201807191600/left/left_96.png',...
  '/Users/tangli/Desktop/201807191600/left/left_97.png',...
  '/Users/tangli/Desktop/201807191600/left/left_98.png',...
  };
imageFileNames2 = {'/Users/tangli/Desktop/201807191600/right/right_00.png',...
  '/Users/tangli/Desktop/201807191600/right/right_01.png',...
  '/Users/tangli/Desktop/201807191600/right/right_02.png',...
  '/Users/tangli/Desktop/201807191600/right/right_03.png',...
  '/Users/tangli/Desktop/201807191600/right/right_04.png',...
  '/Users/tangli/Desktop/201807191600/right/right_05.png',...
  '/Users/tangli/Desktop/201807191600/right/right_06.png',...
  '/Users/tangli/Desktop/201807191600/right/right_07.png',...
  '/Users/tangli/Desktop/201807191600/right/right_08.png',...
  '/Users/tangli/Desktop/201807191600/right/right_09.png',...
  '/Users/tangli/Desktop/201807191600/right/right_10.png',...
  '/Users/tangli/Desktop/201807191600/right/right_100.png',...
  '/Users/tangli/Desktop/201807191600/right/right_101.png',...
  '/Users/tangli/Desktop/201807191600/right/right_102.png',...
  '/Users/tangli/Desktop/201807191600/right/right_103.png',...
  '/Users/tangli/Desktop/201807191600/right/right_104.png',...
  '/Users/tangli/Desktop/201807191600/right/right_106.png',...
  '/Users/tangli/Desktop/201807191600/right/right_107.png',...
  '/Users/tangli/Desktop/201807191600/right/right_108.png',...
  '/Users/tangli/Desktop/201807191600/right/right_109.png',...
  '/Users/tangli/Desktop/201807191600/right/right_11.png',...
  '/Users/tangli/Desktop/201807191600/right/right_110.png',...
  '/Users/tangli/Desktop/201807191600/right/right_111.png',...
  '/Users/tangli/Desktop/201807191600/right/right_112.png',...
  '/Users/tangli/Desktop/201807191600/right/right_113.png',...
  '/Users/tangli/Desktop/201807191600/right/right_114.png',...
  '/Users/tangli/Desktop/201807191600/right/right_115.png',...
  '/Users/tangli/Desktop/201807191600/right/right_117.png',...
  '/Users/tangli/Desktop/201807191600/right/right_119.png',...
  '/Users/tangli/Desktop/201807191600/right/right_12.png',...
  '/Users/tangli/Desktop/201807191600/right/right_120.png',...
  '/Users/tangli/Desktop/201807191600/right/right_121.png',...
  '/Users/tangli/Desktop/201807191600/right/right_122.png',...
  '/Users/tangli/Desktop/201807191600/right/right_123.png',...
  '/Users/tangli/Desktop/201807191600/right/right_124.png',...
  '/Users/tangli/Desktop/201807191600/right/right_125.png',...
  '/Users/tangli/Desktop/201807191600/right/right_126.png',...
  '/Users/tangli/Desktop/201807191600/right/right_127.png',...
  '/Users/tangli/Desktop/201807191600/right/right_128.png',...
  '/Users/tangli/Desktop/201807191600/right/right_129.png',...
  '/Users/tangli/Desktop/201807191600/right/right_13.png',...
  '/Users/tangli/Desktop/201807191600/right/right_130.png',...
  '/Users/tangli/Desktop/201807191600/right/right_131.png',...
  '/Users/tangli/Desktop/201807191600/right/right_132.png',...
  '/Users/tangli/Desktop/201807191600/right/right_133.png',...
  '/Users/tangli/Desktop/201807191600/right/right_134.png',...
  '/Users/tangli/Desktop/201807191600/right/right_135.png',...
  '/Users/tangli/Desktop/201807191600/right/right_136.png',...
  '/Users/tangli/Desktop/201807191600/right/right_138.png',...
  '/Users/tangli/Desktop/201807191600/right/right_139.png',...
  '/Users/tangli/Desktop/201807191600/right/right_14.png',...
  '/Users/tangli/Desktop/201807191600/right/right_140.png',...
  '/Users/tangli/Desktop/201807191600/right/right_15.png',...
  '/Users/tangli/Desktop/201807191600/right/right_16.png',...
  '/Users/tangli/Desktop/201807191600/right/right_17.png',...
  '/Users/tangli/Desktop/201807191600/right/right_18.png',...
  '/Users/tangli/Desktop/201807191600/right/right_19.png',...
  '/Users/tangli/Desktop/201807191600/right/right_20.png',...
  '/Users/tangli/Desktop/201807191600/right/right_21.png',...
  '/Users/tangli/Desktop/201807191600/right/right_22.png',...
  '/Users/tangli/Desktop/201807191600/right/right_23.png',...
  '/Users/tangli/Desktop/201807191600/right/right_24.png',...
  '/Users/tangli/Desktop/201807191600/right/right_25.png',...
  '/Users/tangli/Desktop/201807191600/right/right_26.png',...
  '/Users/tangli/Desktop/201807191600/right/right_27.png',...
  '/Users/tangli/Desktop/201807191600/right/right_28.png',...
  '/Users/tangli/Desktop/201807191600/right/right_29.png',...
  '/Users/tangli/Desktop/201807191600/right/right_30.png',...
  '/Users/tangli/Desktop/201807191600/right/right_31.png',...
  '/Users/tangli/Desktop/201807191600/right/right_32.png',...
  '/Users/tangli/Desktop/201807191600/right/right_33.png',...
  '/Users/tangli/Desktop/201807191600/right/right_34.png',...
  '/Users/tangli/Desktop/201807191600/right/right_35.png',...
  '/Users/tangli/Desktop/201807191600/right/right_36.png',...
  '/Users/tangli/Desktop/201807191600/right/right_37.png',...
  '/Users/tangli/Desktop/201807191600/right/right_38.png',...
  '/Users/tangli/Desktop/201807191600/right/right_39.png',...
  '/Users/tangli/Desktop/201807191600/right/right_40.png',...
  '/Users/tangli/Desktop/201807191600/right/right_41.png',...
  '/Users/tangli/Desktop/201807191600/right/right_42.png',...
  '/Users/tangli/Desktop/201807191600/right/right_43.png',...
  '/Users/tangli/Desktop/201807191600/right/right_44.png',...
  '/Users/tangli/Desktop/201807191600/right/right_45.png',...
  '/Users/tangli/Desktop/201807191600/right/right_46.png',...
  '/Users/tangli/Desktop/201807191600/right/right_47.png',...
  '/Users/tangli/Desktop/201807191600/right/right_48.png',...
  '/Users/tangli/Desktop/201807191600/right/right_49.png',...
  '/Users/tangli/Desktop/201807191600/right/right_50.png',...
  '/Users/tangli/Desktop/201807191600/right/right_51.png',...
  '/Users/tangli/Desktop/201807191600/right/right_52.png',...
  '/Users/tangli/Desktop/201807191600/right/right_53.png',...
  '/Users/tangli/Desktop/201807191600/right/right_54.png',...
  '/Users/tangli/Desktop/201807191600/right/right_55.png',...
  '/Users/tangli/Desktop/201807191600/right/right_56.png',...
  '/Users/tangli/Desktop/201807191600/right/right_57.png',...
  '/Users/tangli/Desktop/201807191600/right/right_58.png',...
  '/Users/tangli/Desktop/201807191600/right/right_59.png',...
  '/Users/tangli/Desktop/201807191600/right/right_60.png',...
  '/Users/tangli/Desktop/201807191600/right/right_62.png',...
  '/Users/tangli/Desktop/201807191600/right/right_63.png',...
  '/Users/tangli/Desktop/201807191600/right/right_64.png',...
  '/Users/tangli/Desktop/201807191600/right/right_65.png',...
  '/Users/tangli/Desktop/201807191600/right/right_66.png',...
  '/Users/tangli/Desktop/201807191600/right/right_67.png',...
  '/Users/tangli/Desktop/201807191600/right/right_68.png',...
  '/Users/tangli/Desktop/201807191600/right/right_69.png',...
  '/Users/tangli/Desktop/201807191600/right/right_70.png',...
  '/Users/tangli/Desktop/201807191600/right/right_71.png',...
  '/Users/tangli/Desktop/201807191600/right/right_73.png',...
  '/Users/tangli/Desktop/201807191600/right/right_74.png',...
  '/Users/tangli/Desktop/201807191600/right/right_75.png',...
  '/Users/tangli/Desktop/201807191600/right/right_76.png',...
  '/Users/tangli/Desktop/201807191600/right/right_78.png',...
  '/Users/tangli/Desktop/201807191600/right/right_79.png',...
  '/Users/tangli/Desktop/201807191600/right/right_80.png',...
  '/Users/tangli/Desktop/201807191600/right/right_81.png',...
  '/Users/tangli/Desktop/201807191600/right/right_82.png',...
  '/Users/tangli/Desktop/201807191600/right/right_83.png',...
  '/Users/tangli/Desktop/201807191600/right/right_85.png',...
  '/Users/tangli/Desktop/201807191600/right/right_86.png',...
  '/Users/tangli/Desktop/201807191600/right/right_87.png',...
  '/Users/tangli/Desktop/201807191600/right/right_88.png',...
  '/Users/tangli/Desktop/201807191600/right/right_89.png',...
  '/Users/tangli/Desktop/201807191600/right/right_90.png',...
  '/Users/tangli/Desktop/201807191600/right/right_91.png',...
  '/Users/tangli/Desktop/201807191600/right/right_92.png',...
  '/Users/tangli/Desktop/201807191600/right/right_93.png',...
  '/Users/tangli/Desktop/201807191600/right/right_94.png',...
  '/Users/tangli/Desktop/201807191600/right/right_95.png',...
  '/Users/tangli/Desktop/201807191600/right/right_96.png',...
  '/Users/tangli/Desktop/201807191600/right/right_97.png',...
  '/Users/tangli/Desktop/201807191600/right/right_98.png',...
  };

% Detect checkerboards in images
[imagePoints, boardSize, imagesUsed] = detectCheckerboardPoints(imageFileNames1, imageFileNames2);

% Generate world coordinates of the checkerboard keypoints
squareSize = 100;  % in units of 'millimeters'
worldPoints = generateCheckerboardPoints(boardSize, squareSize);

% Read one of the images from the first stereo pair
I1 = imread(imageFileNames1{1});
[mrows, ncols, ~] = size(I1);

% Calibrate the camera
[stereoParams, pairsUsed, estimationErrors] = estimateCameraParameters(imagePoints, worldPoints, ...
  'EstimateSkew', false, 'EstimateTangentialDistortion', true, ...
  'NumRadialDistortionCoefficients', 2, 'WorldUnits', 'millimeters', ...
  'InitialIntrinsicMatrix', [], 'InitialRadialDistortion', [], ...
  'ImageSize', [mrows, ncols]);

% View reprojection errors
h1=figure; showReprojectionErrors(stereoParams);

% Visualize pattern locations
h2=figure; showExtrinsics(stereoParams, 'CameraCentric');

% Display parameter estimation errors
displayErrors(estimationErrors, stereoParams);

% You can use the calibration data to rectify stereo images.
I2 = imread(imageFileNames2{1});
[J1, J2] = rectifyStereoImages(I1, I2, stereoParams);

% See additional examples of how to use the calibration data.  At the prompt type:
% showdemo('StereoCalibrationAndSceneReconstructionExample')
% showdemo('DepthEstimationFromStereoVideoExample')
